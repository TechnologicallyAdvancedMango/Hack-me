<!doctype html>
<html>
  <head>
    <title>jsSimulator</title>
    
  </head>
  <body>
    <h1>jsSimulator</h1>
    <pre>
    simulateKeypress(keyCode);
    simulateKeys("text");
    simulateClick(x, y);</pre>
    <input type="text" id="console" value="console.log('Hello World!');">
    <script>
      document.getElementById("console").addEventListener("keyup", function(event) {
    if (event.key === 'Enter') {
        var code = document.getElementById("console").value;
        eval(code);
    }
});
      function simulateKeypress(keyCode) {
    var keyEvent = new KeyboardEvent('keypress', {
        'view': window,
        'bubbles': true,
        'cancelable': true,
        'keyCode': keyCode
    });

    document.dispatchEvent(keyEvent);
}

function simulateKeys(text) {
    for (var i = 0; i < text.length; i++) {
        simulateKeypress(text.charCodeAt(i));
    }
}
function simulateClick(x, y) {
    var clickEvent = new MouseEvent('click', {
        'view': window,
        'bubbles': true,
        'cancelable': true,
        'screenX': x,
        'screenY': y
    });

    document.elementFromPoint(x, y).dispatchEvent(clickEvent);
}

    </script>
  </body>
</html>
